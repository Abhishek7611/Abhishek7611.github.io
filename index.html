
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>File Downloader</title>
</head>
<body>
  <button onclick="downloadFile()">Download File</button>
  <script>
    
    function downloadFile(url) {
  var filename = decodeURIComponent(url.substring(url.lastIndexOf("/") + 1).split("?")[0]);
  var xhr = new XMLHttpRequest();
  xhr.responseType = 'blob';
  xhr.onload = function() {
    var a = document.createElement('a');
    a.href = window.URL.createObjectURL(xhr.response);
    a.download = filename; // Use the extracted filename from the URL.
    a.style.display = 'none';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
  };
  xhr.open('GET', url);
  xhr.send();
}

// Example usage
var url = "https://firebasestorage.googleapis.com/v0/b/somerandombucketname/Images%2FxKweRWIleTQohZggSlAoPiOoU4N2%2FInvoices%2F01-05-2024_16%3A08%3A18.jpg?alt=media&token=4bfcb5cf-4e8a-47f7-adf2-81086f84aaf3";
downloadFile(url);

  </script>
</body>
</html>

